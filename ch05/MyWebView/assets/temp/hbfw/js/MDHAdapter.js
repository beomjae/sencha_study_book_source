console.log("START to load MDHAdapter.js");var MDHMgr=new function(){this.queue={ready:true,commands:[],timer:null};this._constructors=[];this.available=true;this.virtualMode=false;this._exec={};this.device={platform:"",model:""};this.MDH_SUCCESS=0;this.MDH_START_ACTIVITY_FOR_RESULT=10000;this.MDH_INVALID_ARGUMENT=-10001;this.MDH_JSON_EXP_ERROR=-10002;this.MDH_CLASS_NOT_FOUND=-10097;this.MDH_NO_SUCH_METHOD=-10098;this.MDH_UNKNOWN_ERROR=-10099;this.MDH_Basic_LAUNCHER_IS_NOT_INSTALLED=-10100;this.MDH_Basic_SSO_SIGN_OFF=-10101;this.MDH_Basic_NO_LOCK_PASSWORD=-10102;this.MDH_Basic_SCREEN_IS_LOCKED=-10103;this.MDH_Basic_SERVICE_IS_BINDING=-10104;this.MDH_Basic_LOCK_IS_NOT_MATCHED=-10105;this.MDH_Basic_APP_INSTALL_CANCLED=-10106;this.MDH_Basic_APP_INSTALL_FAILED=-10107;this.MDH_Basic_LOGOUT=-10108;this.MDH_Basic_VPN_KEYPAIR_ERROR=-10110;this.MDH_Basic_VPN_PROVISION_ERROR=-10111;this.MDH_Basic_VPN_CONNECTION_ERROR=-10112;this.MDH_Basic_NETWORK_IS_NOT_CONNECTED=-100;this.MDH_Basic_USER_ID_OR_MOBILE_ID_IS_NULL=-102;this.MDH_Basic_SERVICE_ID_IS_NULL=-103;this.MDH_Basic_NO_INPUT_URL=-104;this.MDH_Basic_CONNECTION_TIMED_OUT=-107;this.MDH_Basic_SERVICE_NOT_FOUND=-108;this.MDH_Basic_UNKNOWN_ERROR_FROM_SB=109;this.MDH_Basic_NO_DELEGATE=-110;this.MDH_Basic_HOSTNAME_COULD_NOT_BE_FOUND=-111;this.MDH_Basic_CONNECTION_ERROR_403=403;this.MDH_Basic_CONNECTION_ERROR_404=404;this.MDH_Basic_CONNECTION_ERROR_500=500;this.MDH_Basic_SAP_SERVER_CONNECT_ERROR=101;this.MDH_Basic_SAP_INVALID_PARAMETER=102;this.MDH_Basic_DB_RUNTIME_ERROR=200;this.MDH_Basic_AUTH_INVALID_PARAMETER=900;this.MDH_Basic_AUTH_UNREGISTERED_USER=901;this.MDH_Basic_AUTH_FAILED_USER_INFO=903;this.MDH_Basic_PROV_INVALID_ID_OR_PASSWORD=904;this.MDH_PHONE_NO_SIM=-10200;this.MDH_PHONE_AIRPLANE_MODE=-10201;this.MDH_PHONE_CALLING=-10202;this.MDH_PHONE_NO_DATA=-10203;this.MDH_PHONE_NO_RESULT=-10204;this.MDH_Device_error=-10300;this.MDH_Device_GPS_IS_NOT_AVAILABLE=-10301;this.MDH_Device_ORIENTATION_IS_LOCKED=-10302;this.MDH_Device_NO_CAMERA=-10303;this.MDH_Device_CAMERA_IS_LOCKED=-10304;this.MDH_Device_OUT_OF_MEMORY=-10305;this.MDH_Device_LOW_BATTERY=-10306;this.MDH_Device_NO_DATA_IN_LIBRARY=-10307;this.MDH_Device_NO_COMPASS=-10308;this.MDH_Storage_NOT_FOUND_ERR=-10400;this.MDH_Storage_SECURITY_ERR=-10401;this.MDH_Storage_ABORT_ERR=-10402;this.MDH_Storage_NOT_READABLE_ERR=-10403;this.MDH_Storage_ENCODING_ERR=-10404;this.MDH_Storage_NO_MODIFICATION_ALLOWED_ERR=-10405;this.MDH_Storage_INVALID_STATE_ERR=-10406;this.MDH_Storage_SYNTAX_ERR=-10407;this.MDH_Storage_FILEIO_ERR=-10408;this.MDH_Util_NO_CAMERA=-10500;this.MDH_Util_CAMERA_IS_LOCKED=-10501;this.MDH_Util_OUT_OF_MEMORY=-10502;this.MDH_Util_LOW_BATTERY=-10503;this.init=function(){console.log("MDHMgr.init() is callled");this.checkDevice();this._exec=this["_exec_"+this.device.platform]};this.initComponents=function(){var a=setInterval(function(){var c=document.readyState;if((c=="loaded"||c=="complete")&&DeviceInfo.uuid!=null){clearInterval(a);while(MDHMgr._constructors.length>0){var b=MDHMgr._constructors.shift();try{b()}catch(d){alert("Failed to run constructor: "+d.message)}}var d=document.createEvent("Events");d.initEvent("deviceready");document.dispatchEvent(d)}},1)};this.checkDevice=function(){if(this.virtualMode===true){this.device.platform="virtual";this.device.model="virtual";return"virtual"}else{if(navigator.userAgent.toLowerCase().indexOf("iphone")!=-1){this.device.platform="iOS";this.device.model="iphone"}else{if(navigator.userAgent.toLowerCase().indexOf("ipad")!=-1){this.device.platform="iOS";this.device.model="ipad"}else{if(navigator.userAgent.toLowerCase().indexOf("android")!=-1){this.device.platform="android";this.device.model="galaxy"}else{this.device.platform="virtual";this.device.model="virtual"}}}}};this.addConstructor=function(a){var b=document.readyState;if((b=="loaded"||b=="complete")&&DeviceInfo.uuid!=null){a()}else{MDHMgr._constructors.push(a)}};this.exec=function(){console.log("exec() is called"+arguments[0]);var a=arguments[0]+this.CallbackMgr.callbackId++;if(typeof arguments[1]!="function"){return}if(typeof arguments[2]!="function"){return}if(arguments[1]||arguments[2]){this.CallbackMgr.callbacks[a]={success:arguments[1],error:arguments[2]}}this._exec(a,arguments);return a};this._exec_virtual=function(){console.log("_exec_virtual is NEW called"+arguments.length)};this._exec_android=function(){console.log("_exec_android is NEW called"+arguments.length);var b=arguments[0];var c=arguments[1][0];var a={};if(arguments[1].length>2){a=arguments[1][3]}MDHAndroid._exec(b,c,JSON.stringify(a))};this._exec_iOS=function(){this.queue.commands.push(arguments);if(this.queue.timer==null){this.queue.timer=setInterval(this.run_command,10)}};this.run_command=function(){if(!MDHMgr.queue.ready){return}MDHMgr.queue.ready=false;var c=MDHMgr.queue.commands.shift();if(MDHMgr.queue.commands.length==0){clearInterval(MDHMgr.queue.timer);MDHMgr.queue.timer=null}var e=[];var f=null;if(c[1].length>3){for(var d=3;d<c[1].length;d++){var a=c[1][d];if(a==undefined||a==null){a=""}if(typeof(a)=="object"){f=a}else{e.push(encodeURIComponent(a))}}}var b="MDHybrid://"+c[1][0]+"/"+c[0]+"/"+e.join("/");if(f!=null){b+="?"+encodeURIComponent(JSON.stringify(f))}document.location=b};this.log=function(a){this.exec("DebugConsole.log",function(){},function(){},a)};this.CallbackMgr={};this.CallbackMgr.callbackId=0;this.CallbackMgr.callbacks={};this.CallbackMgr.callbackStatus={NO_RESULT:0,OK:1,JSON_EXCEPTION:8,ERROR:9};this.CallbackMgr.onSuccess=function(b,a){if(MDHMgr.CallbackMgr.callbacks[b]){if(a.status==MDHMgr.CallbackMgr.callbackStatus.OK){try{if(MDHMgr.CallbackMgr.callbacks[b].success){MDHMgr.CallbackMgr.callbacks[b].success(a.message)}}catch(c){console.log("Error in success callback: "+b+" = "+c)}}if(!a.keepCallback){delete MDHMgr.CallbackMgr.callbacks[b]}}};this.CallbackMgr.onError=function(b,a){if(MDHMgr.CallbackMgr.callbacks[b]){try{if(MDHMgr.CallbackMgr.callbacks[b].error){MDHMgr.CallbackMgr.callbacks[b].error(a.message)}}catch(c){console.log("Error in error callback: "+b+" = "+c)}if(!a.keepCallback){delete MDHMgr.CallbackMgr.callbacks[b]}}}};MDHMgr.init();function GetFunctionName(b){if(b){var a=b.toString().match(/^\s*function\s+([^\s\(]+)/);return a?a[1]:anomToNameFunk(b)}else{return null}}var _anomFunkMap={};var _anomFunkMapNextId=0;function anomToNameFunk(a){var c="f"+_anomFunkMapNextId++;var b=function(){a.apply(this,arguments);_anomFunkMap[c]=null;delete _anomFunkMap[c]};_anomFunkMap[c]=b;return"_anomFunkMap."+c}function __proxyObj(e,c,d){var a=function(h,f,g){h[g]=function(){return f[g].apply(f,arguments)}};for(var b in d){a(e,c,d[b])}}MDHBasic=new function(){this.constructor=function(){console.log("init MDHBasic")};this.SSO=new function(){this.NICKNAME="nickname";this.FULLNAME="fullname";this.FAMILYNAME="familyname";this.GIVENNAME="givenname";this.TELEPHONE_HOME="telephone_home";this.TELEPHONE_WORK="telephone_work";this.TELEPHONE_MOBILE="telephone_mobile";this.TELEPHONE_FAX="telephone_fax";this.E_MAIL="email";this.ADDRESS_HOME="address_home";this.ADDRESS_WORK="address_work";this.COMPANY="company";this.DEPARTMENT="department";this.POSITION="position";this.EMPLOYEE_NUMBER="employeeNumber";this.DEPARTMENT_NUMBER="departmentNumber";this.COMPANY_CODE="companyCode";this.ISBLUE="isBlue";this.SECURITY_LEVEL="securityLevel";this.EPID="epid";this.GENDER="gender";this.TITLE_NUMBER="titleNumber";this.USERID="userId";this.MAIL_HOST="mailHost";this.TELEPHONE_INTERNET="telephoneInternet";this.GRADE_OR_TITLE="gradeOrTitle";this.COUNTRY="country";this.PREFERRED_LANGUAGE_PRESENTATION="preferredLanguagePresentation";this.USER_LEVEL="userLevel";this.USER_STATUS="userStatus";this.ISNATIVE="isNative";this.BUSI_CODE="busiCode";this.BUSI_NAME="busiName";this.SUBORG_CODE="suborgcode";this.SUBORG_NAME="suborgname";this.GRADE_NAME="gradeName";this.REGION_CODE="resionCode";this.JOB="job";this.JOB_NAME="jobName";this.getInfo=function(a,c,b){MDHMgr.exec("SSO.getInfo",a,c,b)}};this.ScreenLock=new function(){this.isLocked=function(a,b){MDHMgr.exec("ScreenLock.isLocked",a,b)};this.unlock=function(a,b,c){MDHMgr.exec("ScreenLock.unlock",a,b,c)}};this.App=new function(){this.getList=function(a,b){MDHMgr.exec("App.getList",a,b)};this.install=function(a,b,c){MDHMgr.exec("App.install",a,b,c)}};this.SEMP=new function(){this.request=function(a,b,c){MDHMgr.exec("SEMP.request",a,b,c)}};this.VPN=new function(){this.initialize=function(a,b,c){MDHMgr.exec("VPN.initialize",a,b,c)};this.prepare=function(a,b,c){MDHMgr.exec("VPN.prepare",a,b,c)};this.connect=function(a,b,c){MDHMgr.exec("VPN.connect",a,b,c)};this.checkStatus=function(a,b,c){MDHMgr.exec("VPN.checkStatus",a,b,c)};this.disconnect=function(a,b,c){MDHMgr.exec("VPN.disconnect",a,b,c)}};this.Attachment=new function(){this.load=function(a,b,c){MDHMgr.exec("Attachment.load",a,b,c)}};this._EventTarget=function(){this._listeners={}};this._EventTarget.prototype={constructor:this._EventTarget,addListener:function(a,b){if(typeof this._listeners[a]=="undefined"){this._listeners[a]=[]}this._listeners[a].push(b);MDHMgr.exec("CustomEvent.link",function(){},function(){},{type:a})},fire:function(d){if(typeof d=="string"){d={type:d}}if(!d.target){d.target=this}if(!d.type){throw new Error("Event object missing 'type' property.")}if(this._listeners[d.type] instanceof Array){var c=this._listeners[d.type];for(var b=0,a=c.length;b<a;b++){c[b].call(this,d)}}},removeListener:function(d,e){if(this._listeners[d] instanceof Array){var c=this._listeners[d];for(var b=0,a=c.length;b<a;b++){if(c[b]===e){c.splice(b,1);break}}if(c.length==0){MDHMgr.exec("CustomEvent.unlink",function(){},function(){},{type:d})}}}};this.Event=new this._EventTarget()};MDHPhone=new function(){this.contactKey={UID:"uid",FULLNAME:"fullname",ADDRESSHOME:"addressHome",ADDRESSWORK:"addressWork",TELMOBILE:"telMobile",TELHOME:"telHome",TELWORK:"telWrok",EMAILMOBILE:"emailMobile",EMAILWORK:"emailWork",EMAILHOME:"emailHome",WEBSITE:"website",NOTE:"note",COMPANY:"company",POSITION:"position",NICKNAME:"nickname",IM:"im"};this.contacts=function(g,o,j,n,p,h,l,b,f,e,a,k,i,d,c,m){this.uid=g||null;this.fullname=o||null;this.addressHome=j||null;this.addressWork=n||null;this.telMobile=p||null;this.telHome=h||null;this.telWork=l||null;this.emailMobile=b||null;this.emailWork=f||null;this.emailHome=e||null;this.website=a||null;this.note=k||null;this.company=i||null;this.position=d||null;this.nickname=c||null;this.im=m||null};this.Telephony=new function(){this.call=function(a,b,c){MDHMgr.exec("Telephony.call",a,b,c)};this.sendSMS=function(a,b,c){MDHMgr.exec("Telephony.sendSMS",a,b,c)}};this.Contact=new function(){this.search=function(c,a,b){MDHMgr.exec("Contact.search",c,a,b)}}};MDHDevice=new function(){this.constructor=function(){};this.GPS=new function(){this.lastPosition=null;this.lastError=null};this.GPS._setPosition=function(a){console.log("MDHDevice.GPS._setPosition"+a.timestamp);this.lastError=null;this.lastPosition=a};this.GPS._setError=function(a){this.lastError=a};this.GPS._start=function(a){console.log("GPS._start");MDHMgr.exec("GPS.start",function(){},function(){},a)};this.GPS._stop=function(){console.log("GPS._stop");MDHMgr.exec("GPS.stop",function(){},function(){})};this.GPS._getPosition=function(d,f,k,b){if(this.lastError!=null){if(typeof f=="function"){f.call(null,this.lastError)}this._stop();return}this._start(k);var h=0;var j=30000;var c=2000;if(k&&k.timeout){j=k.timeout}if(typeof d!="function"){d=function(){}}if(typeof f!="function"){f=function(){}}var e=0;var i=this;var g=arguments;console.log("_getPosition once : "+b);var a=setInterval(function(){e+=c;console.log("_getPosition interval"+i.lastPosition);if(i.lastPosition!=null&&i.lastPosition.timestamp>h){clearInterval(a);console.log("call successCallback");d(i.lastPosition);if(b===true){i._stop()}}else{if(e>j){clearInterval(a);console.log("call errorCallback");f("Error timeout");if(b===true){i._stop()}}else{if(i.lastError!=null){clearInterval(a);console.log("call errorCallback");f(i.lastError);if(b===true){i._stop()}}}}},c)};this.GPS.getCurrentPosition=function(a,b,c){this._getPosition(a,b,c,true)};this.GPS.watchPosition=function(a,b,c){this._getPosition(a,b,c,false);var e=(c&&c.frequency)?c.frequency:10000;var d=this;return setInterval(function(){d._getPosition(a,b,c,false)},e)};this.GPS.clearWatch=function(a){this._stop();return clearInterval(a)};this.Accelerator=new function(){function a(b,d,c){this.x=b;this.y=d;this.z=c;this.timestamp=new Date().getTime()}this.lastError=null;this.lastAcceleration=null;this._onUpdate=function(b,d,c){this.lastAcceleration=new a(b,d,c)};this._setError=function(b){this.lastError=b};this.getCurrentAcceleration=function(b,d,e){var c=this;c.lastAcceleration=null;MDHMgr.exec("Accelerator.start",function(){},function(){});var f=setInterval(function(){if(c.lastAcceleration!=null){MDHMgr.exec("Accelerator.stop",function(){},function(){});clearInterval(f);b(c.lastAcceleration)}},100)};this._getCurrentAcceleration=function(b,c,d){if(this.lastError!=null){if(typeof c=="function"){errCallback.call(null,this.lastError)}MDHMgr.exec("Accelerator.stop",function(){},function(){});return}if(typeof b=="function"){b(this.lastAcceleration)}};this.watchAcceleration=function(b,d,e){var f=(e&&e.frequency)?e.frequency:10000;var c={desiredFrequency:f};MDHMgr.exec("Accelerator.start",function(){},function(){},e);return setInterval(function(){MDHDevice.Accelerator._getCurrentAcceleration(b,d,e)},f)};this.clearWatch=function(b){MDHMgr.exec("Accelerator.stop",function(){},function(){});clearInterval(b)}};this.Camera=new function(){this.DestinationType={DATA_URL:0,FILE_URI:1};this.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2};this.getPicture=function(c,a,b){MDHMgr.exec("Camera.getPicture",c,a,b)}};this.Vibrator=new function(){this.run=function(a,b,c){MDHMgr.exec("Vibrator.run",a,b,c)}};this.Compass=new function(){function a(b){this.magneticHeading=b.magneticHeading;this.trueHeading=b.trueHeading;this.headingAccuracy=b.headingAccuracy}this.lastHeading=null;this.lastError=null;this._setHeading=function(b){this.lastHeading=new a(b)};this._setError=function(b){this.lastError=b};this.getCurrentCompass=function(b,d,e){var c=this;c.lastHeading=null;MDHMgr.exec("Compass.start",function(){},function(){});var f=setInterval(function(){if(c.lastHeading!=null){MDHMgr.exec("Compass.stop",function(){},function(){});clearInterval(f);b(c.lastHeading.trueHeading)}},100);if(typeof b=="function"){b(this.lastHeading.trueHeading)}};this._getCurrentCompass=function(b,c,d){if(this.lastError!=null){if(typeof c=="function"){errCallback.call(null,this.lastError)}MDHMgr.exec("Compass.stop",function(){},function(){});return}if(typeof b=="function"){b(this.lastHeading.trueHeading)}};this.watchCompass=function(b,d,e){var f=(e&&e.frequency)?e.frequency:100;var c={desiredFrequency:f};MDHMgr.exec("Compass.start",function(){},function(){},e);return setInterval(function(){MDHDevice.Compass._getCurrentCompass(b,d,e)},f)};this.clearWatch=function(b){MDHMgr.exec("Compass.stop",function(){},function(){});return clearInterval(b)}};this.MediaMgr=new function(){this.MEDIA_NONE=0;this.MEDIA_STARTING=1;this.MEDIA_RUNNING=2;this.MEDIA_PAUSED=3;this.MEDIA_STOPPED=4;this.MEDIA_START_RECORD=10;this.MEDIA_STOP_RECORD=11;this.Medias={};this.addMedia=function(a){this.Medias[a.src]=a;return a};this.removeMedia=function(a){this.Medias[a.src]=null};this._onStatus=function(a,c,b){if(c=="duration"){this.Medias[a]._duration=b}if(c=="currentTime"){this.Medias[a]._position=b}}};this.Media=function(d,a,b,c){switch(c.mediaType){case MDHDevice.Media.REMOTE_URL:this.src=d;break;case MDHDevice.Media.LOCAL_READONLY:this.src="sandbox://"+d;break;case MDHDevice.Media.LOCAL_READWRITE:this.src="notsandbox://"+d;break}this.state=MDHDevice.MediaMgr.MEDIA_NONE;this.onLoad=a;this.onError=b;this._duration=-1;this._position=-1;if(this.src&&this.src.length>0){MDHDevice.MediaMgr.removeMedia(this)}MDHDevice.MediaMgr.addMedia(this);if(this.src!=null){MDHMgr.exec("Sound.prepare",a,b,{source:this.src,backgroundMode:c.backgroundMode})}};this.Media.REMOTE_URL=1;this.Media.LOCAL_READONLY=2;this.Media.LOCAL_READWRITE=3;this.Media.prototype.getCurrentPosition=function(){return this._position};this.Media.prototype.getDuration=function(){return this._duration};this.Media.prototype.play=function(){if(this.src!=null){MDHMgr.exec("Sound.play",function(){},function(){},this.src)}};this.Media.prototype.pause=function(){if(this.src!=null){MDHMgr.exec("Sound.pause",function(){},function(){},this.src)}};this.Media.prototype.stop=function(){if(this.src!=null){MDHMgr.exec("Sound.stop",function(){},function(){},this.src)}};this.Media.prototype.startRecord=function(){if(this.src!=null){MDHMgr.exec("Sound.startRecord",function(){},function(){},this.src)}};this.Media.prototype.stopRecord=function(){if(this.src!=null){MDHMgr.exec("Sound.stopRecord",function(){},function(){},this.src)}};this.Network=new function(){this.NOT_REACHABLE=0;this.REACHABLE_VIA_CARRIER_DATA_NETWORK=1;this.REACHABLE_VIA_WIFI_NETWORK=2;this.isReachable=function(a,b,c){MDHMgr.exec("Network.isReachable",a,b,c)}}};MDHStorage=new function(){this.FileError=function(){this.code=null};this.FileMgr=new function(){this.INIT=0;this.PROCESSING=1;this.DONE=2;this.fileReaders={};this.fileWriters={};this._createEvent=function(b,c){var a={type:b};a.target=c;return a};this.addFileReader=function(b,a){this.fileReaders[b]=a;return a};this.addFileWriter=function(a,b){this.fileWriters[a]=b;return b};this.removeFileReader=function(a){this.fileReaders[a]=null};this.removeFileWriter=function(a){this.fileWriters[a]=null};this.reader_onloadstart=function(b){var a=MDHStorage.FileMgr._createEvent("loadstart",this.fileReaders[b]);this.fileReaders[b].onloadstart(a)};this.reader_onprogress=function(c,a){this.fileReaders[c].result=decodeURIComponent(a);var b=MDHStorage.FileMgr._createEvent("progress",this.fileReaders[c]);this.fileReaders[c].onprogress(b)};this.reader_onload=function(c,a){this.fileReaders[c].result=decodeURIComponent(a);var b=MDHStorage.FileMgr._createEvent("load",this.fileReaders[c]);this.fileReaders[c].onload(b)};this.reader_onerror=function(c,d){var b=new MDHStorage.FileError();b.code=d;this.fileReaders[c].error=b;var a=MDHStorage.FileMgr._createEvent("error",this.fileReaders[c]);this.fileReaders[c].onerror(a)};this.reader_onloadend=function(c,a){this.fileReaders[c].result=decodeURIComponent(a);var b=MDHStorage.FileMgr._createEvent("loadend",this.fileReaders[c]);this.fileReaders[c].onloadend(b)};this.writer_onwritestart=function(b){var a=MDHStorage.FileMgr._createEvent("loadstart",this.fileWriters[b]);this.fileWriters[b].onwritestart()};this.writer_onerror=function(c,d){var b=new MDHStorage.FileError();b.code=d;this.fileWriters[c].error=b;var a=MDHStorage.FileMgr._createEvent("error",this.fileWriters[c]);this.fileWriters[c].onerror(a)};this.writer_oncomplete=function(b,d,e){var c=this.fileWriters[b];c.length=e;c.position+=d;var a=MDHStorage.FileMgr._createEvent("writeend",this.fileWriters[b]);c.onwriteend(a);a.type="complete";c.oncomplete(a)};this.writer_ontruncate=function(c,a){var d=this.fileWriters[c];d.length=a;d.position=a;var b=MDHStorage.FileMgr._createEvent("truncateend",this.fileWriters[c]);d.ontruncateend(b)}};this.FileReader=function(a){this.fileName=a||null;this.result;this.error=null;this.readyState=MDHStorage.FileMgr.DONE;this.onloadstart=null;this.onprogress=null;this.onload=null;this.onerror=null;this.onloadend=null};this.FileReader.prototype.abort=function(){this.readyState=MDHStorage.FileMgr.DONE;this.result;var b=new MDHStorage.FileError();b.code=MDHMgr.MDH_Storage_ABORT_ERR;this.error=b;if(typeof this.onerror=="function"){var a=MDHStorage.FileMgr._createEvent("error",this);this.onerror(a)}if(typeof this.onabort=="function"){var a=MDHStorage.FileMgr._createEvent("abort",this);this.onabort(a)}this.readyState=MDHStorage.FileMgr.DONE;if(typeof this.onloadeend=="function"){var a=MDHStorage.FileMgr._createEvent("loadend",this);this.onloadeend(a)}};this.FileReader.prototype.read=function(){return this.readAsText(this.fileName,"UTF-8")};this.FileReader.prototype.readAsText=function(a,b){this.fileName=a;this.readyState=MDHStorage.FileMgr.PROCESSING;if(this.fileName&&this.fileName.length>0){MDHStorage.FileMgr.removeFileReader(this.fileName,this)}MDHStorage.FileMgr.addFileReader(this.fileName,this);MDHMgr.exec("File.read",function(){},function(){},{filepath:this.fileName})};this.FileWriter=function(a){this.fileName=a||null;this.position=0;this.length=0;this.error=null;this.readyState=MDHStorage.FileMgr.INIT;this.onerror=null;this.onwritestart=null;this.onwriteend=null;this.onprogress=null;this.onabort=null;this.ontruncateend=null;if(MDHStorage.FileMgr.fileWriters[a]!=null){return MDHStorage.FileMgr.fileWriters[a]}else{this.fileName=a}};this.FileWriter.prototype.abort=function(){if(this.readyState!=MDHStorage.FileMgr.PROCESSING){throw MDHMgr.MDH_Storage_INVALID_STATE_ERR}var b=new MDHStorage.FileError();b.code=MDHMgr.MDH_Storage_ABORT_ERR;this.error=b;if(typeof this.onerror=="function"){var a=MDHStorage.FileMgr._createEvent("error",this);this.onerror(a)}if(typeof this.onabort=="function"){var a=MDHStorage.FileMgr._createEvent("abort",this);this.onabort(a)}this.readyState=MDHStorage.FileMgr.DONE;if(typeof this.onwriteend=="function"){var a=MDHStorage.FileMgr._createEvent("writeend",this);this.onwriteend(a)}};this.FileWriter.prototype.seek=function(a){if(this.readyState==MDHStorage.FileMgr.PROCESSING){throw MDHMgr.MDH_Storage_INVALID_STATE_ERR}if(!a){return}if(a<0){this.position=Math.max(a+this.length,0)}else{if(a>this.length){this.position=this.length}else{this.position=a}}};this.FileWriter.prototype.truncate=function(a){if(this.readyState==MDHStorage.FileMgr.PROCESSING){throw MDHMgr.MDH_Storage_INVALID_STATE_ERR}this.readyState=MDHStorage.FileMgr.PROCESSING;if(this.fileName&&this.fileName.length>0){MDHStorage.FileMgr.removeFileWriter(this.fileName)}MDHStorage.FileMgr.addFileWriter(this.fileName,this);this.readyState=MDHStorage.FileMgr.INIT;this.result=null;MDHMgr.exec("File.truncate",function(){},function(){},{filepath:this.fileName,offset:a})};this.FileWriter.prototype.write=function(a){return this.writeAsText(this.fileName,a)};this.FileWriter.prototype.writeAsText=function(b,a){if(this.readyState==MDHStorage.FileMgr.PROCESSING){throw MDHMgr.MDH_Storage_INVALID_STATE_ERR}this.readyState=MDHStorage.FileMgr.PROCESSING;if(this.fileName&&this.fileName.length>0){MDHStorage.FileMgr.removeFileWriter(this.fileName)}this.fileName=b;MDHStorage.FileMgr.addFileWriter(this.fileName,this);this.readyState=MDHStorage.FileMgr.INIT;this.result=null;MDHMgr.exec("File.write",function(){},function(){},{filepath:this.fileName,data:a,offset:this.position})}};MDHUtil=new function(){this.Barcode=new function(){this.run=function(b,a){MDHMgr.exec("Barcode.run",b,a)}};this.Browser=new function(){this.startLoadingBar=function(a){MDHMgr.exec("Browser.startLoadingBar",function(){},function(){},a)};this.stopLoadingBar=function(){MDHMgr.exec("Browser.stopLoadingBar",function(){},function(){},{})};this.clearHistory=function(){MDHMgr.exec("Browser.clearHistory",function(){},function(){},{})};this.SENSOR_ON=1;this.SENSOR_OFF=2;this.LANDSCAPE=3;this.PORTRAIT=4;this.setOrientation=function(c,a,b){MDHMgr.exec("Browser.setOrientation",c,a,b)};this.getOrientation=function(b,a){MDHMgr.exec("Browser.getOrientation",b,a,{})};this.getFontSize=function(b,a){MDHMgr.exec("Browser.getFontSize",b,a,{})};this.clearCache=function(){MDHMgr.exec("Browser.clearCache",function(){},function(){},{})};this.START_LAUNCHER=1;this.NO_ACTION=0;this.terminateApp=function(a){MDHMgr.exec("Browser.terminateApp",function(){},function(){},{"with":a})}}};MDHInfo=new function(){this.Device=new function(){this.getDeviceInfo=function(b,a){MDHMgr.exec("Device.getDeviceInfo",b,a,{})};this.getLanguage=function(b,a){MDHMgr.exec("Device.getLanguage",b,a,{})};this.NONE=0;this.CARRIER_DATA=1;this.WIFI=2;this.getNetworkInfo=function(b,a){MDHMgr.exec("Device.getNetworkInfo",b,a,{})};this.getStorageInfo=function(b,a){MDHMgr.exec("Device.getStorageInfo",b,a,{})};this.getBatteryInfo=function(b,a){MDHMgr.exec("Device.getBatteryInfo",b,a,{})}};this.Platform=new function(){this.getVersions=function(b,a){MDHMgr.exec("Platform.getVersions",b,a,{})}}};console.log("END to load MDHAdapter.js");